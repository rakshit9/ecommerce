{"ast":null,"code":"import { PRODUCT_LOADED_SUCCESS, PRODUCT_LOADED_FAIL, PRODUCT_DETAILS_SUCCESS, PRODUCT_DETAILS_FAIL, ADD_TO_CART, DELETE_TO_CART, UPDATE_CART_QTY, ADD_TO_WISHLIST, ORDER_LOADED_SUCCESS, ORDER_ITEM_LOADED_SUCCESS, ORDER_USER_ITEM_LOADED_SUCCESS, ORDER_USER_ITEM_LOADED_FAIL } from '../actions/types';\nconst initialState = {\n  Products: [],\n  Productsdetails: [],\n  Cartvalue: [],\n  Wishlistvalues: [],\n  Orders: [],\n  Ordersitem: []\n};\nexport default function (state = initialState, action) {\n  let existedItemIndex;\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case PRODUCT_LOADED_SUCCESS:\n      // console.log(\"hello\");\n      // console.log(payload);\n      // console.log(\"hello\");\n      return { ...state,\n        Products: payload\n      };\n\n    case PRODUCT_DETAILS_SUCCESS:\n      // console.log(\"hello\");\n      // console.log(payload);\n      // console.log(\"hello\");\n      return { ...state,\n        Productsdetails: payload\n      };\n\n    case ADD_TO_CART:\n      // console.log(\"hello\");\n      // console.log(\"reducer:\",payload);\n      // console.log(\"hello\");\n      existedItemIndex = state.Cartvalue.findIndex(i => i.id === payload.id); // console.log(existedItemIndex)\n\n      if (existedItemIndex !== -1) {\n        // if the item existed\n        let newCart = state.Cartvalue;\n        newCart[existedItemIndex].qty += payload.qty;\n        return { ...state,\n          Cartvalue: newCart\n        };\n      } else return { ...state,\n        Cartvalue: [...state.Cartvalue, action.payload]\n      };\n\n    // return {\n    //     ...state,\n    //     Cartvalue: state.Cartvalue.push(payload)\n    // }\n\n    case ADD_TO_WISHLIST:\n      // console.log(\"hello\");\n      // console.log(\"reducer:\",payload);\n      // console.log(\"hello\"); \n      existedItemIndex = state.Wishlistvalues.findIndex(i => i.id === payload.id);\n      console.log(existedItemIndex);\n\n      if (existedItemIndex !== -1) {\n        return { ...state,\n          Wishlistvalues: state.Wishlistvalues.filter(item => item.id !== payload.id)\n        };\n      } else {\n        console.log(\"ark\");\n        return { ...state,\n          Wishlistvalues: [...state.Wishlistvalues, action.payload]\n        };\n      }\n\n    case DELETE_TO_CART:\n      // console.log(payload,\"okey reducer\")\n      return { ...state,\n        Cartvalue: state.Cartvalue.filter(item => item.id !== payload.id)\n      };\n\n    case UPDATE_CART_QTY:\n      state.Cartvalue[state.Cartvalue.findIndex(item => item.id === payload.id)].qty = payload.qty;\n      return { ...state,\n        Cartvalue: [...state.Cartvalue]\n      };\n\n    case ORDER_ITEM_LOADED_SUCCESS:\n      // console.log(\"hello\");\n      // console.log(payload);\n      // console.log(\"hello\");\n      return { ...state,\n        Ordersitem: payload\n      };\n\n    case ORDER_LOADED_SUCCESS:\n      // console.log(\"hello\");\n      // console.log(payload);\n      // console.log(\"hello\");\n      return { ...state,\n        Orders: payload\n      };\n\n    case PRODUCT_DETAILS_FAIL:\n    case PRODUCT_LOADED_FAIL:\n      return { ...state,\n        Products: [],\n        Productsdetails: []\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/rakshit/Desktop/webdev/mb/project/capstone-team2/frontend/src/reducers/prostore.js"],"names":["PRODUCT_LOADED_SUCCESS","PRODUCT_LOADED_FAIL","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","ADD_TO_CART","DELETE_TO_CART","UPDATE_CART_QTY","ADD_TO_WISHLIST","ORDER_LOADED_SUCCESS","ORDER_ITEM_LOADED_SUCCESS","ORDER_USER_ITEM_LOADED_SUCCESS","ORDER_USER_ITEM_LOADED_FAIL","initialState","Products","Productsdetails","Cartvalue","Wishlistvalues","Orders","Ordersitem","state","action","existedItemIndex","type","payload","findIndex","i","id","newCart","qty","console","log","filter","item"],"mappings":"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","sourcesContent":["import {\n    PRODUCT_LOADED_SUCCESS,\n    PRODUCT_LOADED_FAIL,\n    PRODUCT_DETAILS_SUCCESS,\n    PRODUCT_DETAILS_FAIL,\n    ADD_TO_CART,\n    DELETE_TO_CART,\n    UPDATE_CART_QTY,\n    ADD_TO_WISHLIST,\n    ORDER_LOADED_SUCCESS,\n    ORDER_ITEM_LOADED_SUCCESS,\n    ORDER_USER_ITEM_LOADED_SUCCESS,\n    ORDER_USER_ITEM_LOADED_FAIL,\n    \n\n\n} from '../actions/types';\n\nconst initialState = {\n    \n    Products: [],\n    Productsdetails: [],\n    Cartvalue: [],\n    Wishlistvalues:[],\n    Orders:[],\n    Ordersitem:[],\n};\n\nexport default function(state = initialState, action) {\n    let existedItemIndex;\n    const { type, payload } = action;    \n    switch(type) {\n        case  PRODUCT_LOADED_SUCCESS:\n            // console.log(\"hello\");\n            // console.log(payload);\n            // console.log(\"hello\");\n            return {\n                ...state,\n                Products: payload,\n\n            }\n        case  PRODUCT_DETAILS_SUCCESS:\n            // console.log(\"hello\");\n            // console.log(payload);\n            // console.log(\"hello\");\n            return {\n                ...state,\n                Productsdetails: payload,\n\n            }\n        case  ADD_TO_CART:\n            // console.log(\"hello\");\n            // console.log(\"reducer:\",payload);\n            // console.log(\"hello\");\n         \n\n            existedItemIndex = state.Cartvalue.findIndex(\n                (i) => i.id === payload.id\n              );\n\n            // console.log(existedItemIndex)\n            if (existedItemIndex !== -1) {\n                // if the item existed\n                let newCart = state.Cartvalue;\n                newCart[existedItemIndex].qty += payload.qty;\n                return { ...state, Cartvalue: newCart };\n              } else return { ...state, Cartvalue: [...state.Cartvalue, action.payload] };\n        \n            // return {\n            //     ...state,\n            //     Cartvalue: state.Cartvalue.push(payload)\n            // }\n\n            \n            case  ADD_TO_WISHLIST:\n                // console.log(\"hello\");\n                // console.log(\"reducer:\",payload);\n                // console.log(\"hello\"); \n                existedItemIndex = state.Wishlistvalues.findIndex(\n                    (i) => i.id === payload.id\n                  );\n\n                console.log(existedItemIndex);\n                if (existedItemIndex !== -1) {\n\n                    return {\n                        ...state,\n                        Wishlistvalues: state.Wishlistvalues.filter((item) => item.id !== payload.id),\n                    };\n        \n\n                }else{\n                    console.log(\"ark\");\n                    return { ...state, \n                        Wishlistvalues: [...state.Wishlistvalues, action.payload] };\n                }\n    \n        case  DELETE_TO_CART:\n            // console.log(payload,\"okey reducer\")\n            return {\n                ...state,\n                Cartvalue: state.Cartvalue.filter((item) => item.id !== payload.id),\n            };\n\n\n        \n        case UPDATE_CART_QTY:\n            \n            \n            state.Cartvalue[state.Cartvalue.findIndex(item => item.id === payload.id)].qty=payload.qty\n            return {\n                ...state,                \n                Cartvalue: [...state.Cartvalue]\n\n            }\n\n        case  ORDER_ITEM_LOADED_SUCCESS:\n            // console.log(\"hello\");\n            // console.log(payload);\n            // console.log(\"hello\");\n            return {\n                ...state,\n                Ordersitem: payload,\n\n            }\n\n        case  ORDER_LOADED_SUCCESS:\n            // console.log(\"hello\");\n            // console.log(payload);\n            // console.log(\"hello\");\n            return {\n                ...state,\n                Orders: payload,\n\n            }\n\n    \n\n        case PRODUCT_DETAILS_FAIL:\n        case PRODUCT_LOADED_FAIL:\n            \n            return {\n                ...state,\n                Products: [],\n                Productsdetails: []\n                \n            }\n      \n        default:\n            return state\n    }\n}\n"]},"metadata":{},"sourceType":"module"}